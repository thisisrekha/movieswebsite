{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{addToFavorites,removeFromFavorites}from'../redux/actions/favoriteActions';import'./MoviesComponent.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MoviesComponent=()=>{const[movies,setMovies]=useState([]);const apiUrl=process.env.REACT_APP_MOVIES_API_URL;const placeholderImage='https://via.placeholder.com/150?text=Image+Unavailable';const favoriteMovies=useSelector(state=>state.favoriteMovies.favorites);const dispatch=useDispatch();const fetchMovies=()=>{fetch(apiUrl).then(response=>response.json()).then(data=>{const sortedMovies=data.sort((a,b)=>b.rating-a.rating);setMovies(sortedMovies);}).catch(error=>console.error('Error:',error));};const toggleFavorite=(id,e)=>{e.stopPropagation();const isFavorite=favoriteMovies.some(movie=>movie.id===id);if(isFavorite){dispatch(removeFromFavorites(id));}else{const selectedMovie=movies.find(movie=>movie.id===id);dispatch(addToFavorites(selectedMovie));}};useEffect(()=>{fetchMovies();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Movies\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"movies-list\",children:movies.map(movie=>/*#__PURE__*/_jsx(\"li\",{className:\"movie-item\",onClick:()=>window.open(movie.imdb_url,'_blank','noopener,noreferrer'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"movie-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:movie.movie}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",movie.rating]}),/*#__PURE__*/_jsx(\"img\",{src:movie.image_url,alt:movie.movie,onError:e=>e.target.src=placeholderImage,className:\"movie-image\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:movie.imdb_url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"IMDb\"})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>toggleFavorite(movie.id,e),children:favoriteMovies.some(favMovie=>favMovie.id===movie.id)?'Unfavorite':'Favorite'})})]})},movie.id))})]});};export default MoviesComponent;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","addToFavorites","removeFromFavorites","jsx","_jsx","jsxs","_jsxs","MoviesComponent","movies","setMovies","apiUrl","process","env","REACT_APP_MOVIES_API_URL","placeholderImage","favoriteMovies","state","favorites","dispatch","fetchMovies","fetch","then","response","json","data","sortedMovies","sort","a","b","rating","catch","error","console","toggleFavorite","id","e","stopPropagation","isFavorite","some","movie","selectedMovie","find","className","children","map","onClick","window","open","imdb_url","src","image_url","alt","onError","target","href","rel","favMovie"],"sources":["/home/rekha/Desktop/movieswebsite/src/components/MoviesComponent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToFavorites, removeFromFavorites } from '../redux/actions/favoriteActions';\nimport './MoviesComponent.css';\n\nconst MoviesComponent = () => {\n  const [movies, setMovies] = useState([]);\n  const apiUrl = process.env.REACT_APP_MOVIES_API_URL;\n  const placeholderImage = 'https://via.placeholder.com/150?text=Image+Unavailable';\n\n  const favoriteMovies = useSelector(state => state.favoriteMovies.favorites);\n  const dispatch = useDispatch();\n\n  const fetchMovies = () => {\n    fetch(apiUrl)\n      .then(response => response.json())\n      .then(data => {\n        const sortedMovies = data.sort((a, b) => b.rating - a.rating);\n        setMovies(sortedMovies);\n      })\n      .catch(error => console.error('Error:', error));\n  };\n\n  const toggleFavorite = (id, e) => {\n    e.stopPropagation();\n    const isFavorite = favoriteMovies.some(movie => movie.id === id);\n    if (isFavorite) {\n      dispatch(removeFromFavorites(id));\n    } else {\n      const selectedMovie = movies.find(movie => movie.id === id);\n      dispatch(addToFavorites(selectedMovie));\n    }\n  };\n\n  useEffect(() => {\n    fetchMovies();\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h1>Movies</h1>\n      <ul className=\"movies-list\">\n        {movies.map(movie => (\n          <li key={movie.id} className=\"movie-item\" onClick={() => window.open(movie.imdb_url, '_blank', 'noopener,noreferrer')}>\n            <div className=\"movie-details\">\n              <h2>{movie.movie}</h2>\n              <p>Rating: {movie.rating}</p>\n              <img \n                src={movie.image_url} \n                alt={movie.movie} \n                onError={(e) => e.target.src = placeholderImage}\n                className=\"movie-image\"\n              />\n              <div>\n              <div>\n                <a href={movie.imdb_url} target=\"_blank\" rel=\"noopener noreferrer\">IMDb</a>\n\n              </div>\n              </div>\n              <div>\n                <button onClick={(e) => toggleFavorite(movie.id, e)}>\n                  {favoriteMovies.some(favMovie => favMovie.id === movie.id) ? 'Unfavorite' : 'Favorite'}\n                </button>\n              </div>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MoviesComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}